From dde23bc24daca581907fd5743877b494de30d927 Mon Sep 17 00:00:00 2001
From: krishauser <hauser.kris@gmail.com>
Date: Thu, 6 Feb 2025 17:31:12 -0500
Subject: [PATCH 005/150] Fixed fake_fake simulation calls and rename from
 YIELD -> YIELDING

---
 homework/longitudinal_planning.py  | 2 +-
 homework/pedestrian_detection.yaml | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/homework/longitudinal_planning.py b/homework/longitudinal_planning.py
index c3f3bf73..e862239f 100644
--- a/homework/longitudinal_planning.py
+++ b/homework/longitudinal_planning.py
@@ -77,7 +77,7 @@ class YieldTrajectoryPlanner(Component):
         #parse the relations indicated
         should_brake = False
         for r in state.relations:
-            if r.type == EntityRelationEnum.YIELD and r.obj1 == '':
+            if r.type == EntityRelationEnum.YIELDING and r.obj1 == '':
                 #yielding to something, brake
                 should_brake = True
         should_accelerate = (not should_brake and curr_v < self.desired_speed)
diff --git a/homework/pedestrian_detection.yaml b/homework/pedestrian_detection.yaml
index 0fffa89f..1a00fa79 100644
--- a/homework/pedestrian_detection.yaml
+++ b/homework/pedestrian_detection.yaml
@@ -94,4 +94,6 @@ variants:
             visualization: !include "klampt_visualization.yaml"
             drive: 
                 perception:
+                    agent_detection : pedestrian_detection.FakePedestrianDetector2D
+                    #agent_detection : OmniscientAgentDetector  #this option reads agents from the simulator
                     state_estimation : OmniscientStateEstimator
-- 
2.38.1

