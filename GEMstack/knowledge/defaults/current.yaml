# ********* Main settings entry point for behavior stack ***********

# Configure settings for the vehicle / vehicle model
vehicle:  !include ../vehicle/gem_e4.yaml

#arguments for algorithm components here
model_predictive_controller:
    dt: 0.1
    lookahead: 20
control:
    recovery:
        brake_amount : 0.5
        brake_speed : 2.0
    pure_pursuit:
        lookahead: 2.0
        lookahead_scale: 3.0
        crosstrack_gain: 1.0
        desired_speed: trajectory
    longitudinal_control:
        pid_p: 1.0
        pid_i: 0.1
        pid_d: 0.0

#configure the simulator, if using
simulator:
    dt: 0.01
    real_time_multiplier: 1.0    # make the simulator run faster than real time by making this > 1
    gnss_emulator: 
        dt: 0.1    #10Hz
        #position_noise: 0.1  #10cm noise
        #orientation_noise: 0.04  #2.3 degrees noise
        #velocity_noise:
        #    constant: 0.04  #4cm/s noise
        #    linear: 0.02    #2% noise

#magic constant in pedestrain detector
pedestrian_detection:
    model: !relative_path "../../knowledge/detection/yolov8n.pt" 
    rate: 4.0
    pedestrian_class: 0
    car_class: 2
    stop_sign_class: 11
    prediction_confidence: 0.8
fake_pedestrian_detection:
  trigger_times:
    - start: 5.0
      end: 20.0
    - start: 30.0
      end: 35.0

#magic constant in longitudinal planner
longitudinal_planning:
    delta_time: 0.05
    vehicle_control:
        acceleration: 0.5
        desired_speed: 1.0
        deceleration: 2.0
    update_rate: 10.0
